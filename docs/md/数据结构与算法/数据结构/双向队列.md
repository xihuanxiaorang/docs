# åŒå‘é˜Ÿåˆ—

åœ¨é˜Ÿåˆ—ä¸­ï¼Œæˆ‘ä»¬ä»…èƒ½åˆ é™¤å¤´éƒ¨å…ƒç´ æˆ–åœ¨å°¾éƒ¨æ·»åŠ å…ƒç´ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒåŒå‘é˜Ÿåˆ—ï¼ˆdouble-ended queueï¼‰æä¾›äº†æ›´é«˜çš„çµæ´»æ€§ï¼Œ<strong style="color:#ae3520;">å…è®¸åœ¨å¤´éƒ¨å’Œå°¾éƒ¨æ‰§è¡Œå…ƒç´ çš„æ·»åŠ æˆ–åˆ é™¤æ“ä½œ</strong>ã€‚

![image-20240612123018558](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121230655.png)

## åŒå‘é˜Ÿåˆ—å¸¸ç”¨æ“ä½œ

åŒå‘é˜Ÿåˆ—çš„å¸¸ç”¨æ“ä½œå¦‚ä¸‹è¡¨ï¼ˆåŒå‘é˜Ÿåˆ—æ“ä½œæ•ˆç‡ï¼‰æ‰€ç¤ºï¼Œå…·ä½“çš„æ–¹æ³•åç§°éœ€è¦æ ¹æ®æ‰€ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€æ¥ç¡®å®šã€‚

| æ–¹æ³•å         | æè¿°             | æ—¶é—´å¤æ‚åº¦ |
| :------------- | :--------------- | :--------- |
| `push_first()` | å°†å…ƒç´ æ·»åŠ è‡³é˜Ÿé¦– | ğ‘‚(1)       |
| `push_last()`  | å°†å…ƒç´ æ·»åŠ è‡³é˜Ÿå°¾ | ğ‘‚(1)       |
| `pop_first()`  | åˆ é™¤é˜Ÿé¦–å…ƒç´      | ğ‘‚(1)       |
| `pop_last()`   | åˆ é™¤é˜Ÿå°¾å…ƒç´      | ğ‘‚(1)       |
| `peek_first()` | è®¿é—®é˜Ÿé¦–å…ƒç´      | ğ‘‚(1)       |
| `peek_last()`  | è®¿é—®é˜Ÿå°¾å…ƒç´      | ğ‘‚(1)       |

åŒæ ·åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼–ç¨‹è¯­è¨€ä¸­å·²å®ç°çš„åŒå‘é˜Ÿåˆ—ç±»ï¼š

```java
/* åˆå§‹åŒ–åŒå‘é˜Ÿåˆ— */
Deque<Integer> deque = new LinkedList<>();

/* å…ƒç´ å…¥é˜Ÿ */
deque.offerLast(2);   // æ·»åŠ è‡³é˜Ÿå°¾
deque.offerLast(5);
deque.offerLast(4);
deque.offerFirst(3);  // æ·»åŠ è‡³é˜Ÿé¦–
deque.offerFirst(1);

/* è®¿é—®å…ƒç´  */
int peekFirst = deque.peekFirst();  // é˜Ÿé¦–å…ƒç´ 
int peekLast = deque.peekLast();    // é˜Ÿå°¾å…ƒç´ 

/* å…ƒç´ å‡ºé˜Ÿ */
int popFirst = deque.pollFirst();  // é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿ
int popLast = deque.pollLast();    // é˜Ÿå°¾å…ƒç´ å‡ºé˜Ÿ

/* è·å–åŒå‘é˜Ÿåˆ—çš„é•¿åº¦ */
int size = deque.size();

/* åˆ¤æ–­åŒå‘é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º */
boolean isEmpty = deque.isEmpty();
```

## åŒå‘é˜Ÿåˆ—å®ç°

åŒå‘é˜Ÿåˆ—çš„å®ç°ä¸é˜Ÿåˆ—ç±»ä¼¼ï¼Œå¯ä»¥é€‰æ‹©é“¾è¡¨æˆ–æ•°ç»„ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ã€‚

### åŸºäºåŒå‘é“¾è¡¨çš„å®ç°

å›é¡¾ä¸Šä¸€èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬ä½¿ç”¨æ™®é€šå•å‘é“¾è¡¨æ¥å®ç°é˜Ÿåˆ—ï¼Œå› ä¸ºå®ƒå¯ä»¥æ–¹ä¾¿åœ°åˆ é™¤å¤´èŠ‚ç‚¹ï¼ˆå¯¹åº”å‡ºé˜Ÿæ“ä½œï¼‰å’Œåœ¨å°¾èŠ‚ç‚¹åæ·»åŠ æ–°èŠ‚ç‚¹ï¼ˆå¯¹åº”å…¥é˜Ÿæ“ä½œï¼‰ã€‚

å¯¹äºåŒå‘é˜Ÿåˆ—è€Œè¨€ï¼Œå¤´éƒ¨å’Œå°¾éƒ¨éƒ½å¯ä»¥æ‰§è¡Œå…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œã€‚æ¢å¥è¯è¯´ï¼ŒåŒå‘é˜Ÿåˆ—éœ€è¦å®ç°å¦ä¸€ä¸ªå¯¹ç§°æ–¹å‘çš„æ“ä½œã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬<strong style="color:#ae3520;">é‡‡ç”¨â€œåŒå‘é“¾è¡¨â€ä½œä¸ºåŒå‘é˜Ÿåˆ—çš„åº•å±‚æ•°æ®ç»“æ„</strong>ã€‚

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†åŒå‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹è§†ä¸ºåŒå‘é˜Ÿåˆ—çš„é˜Ÿé¦–å’Œé˜Ÿå°¾ï¼ŒåŒæ—¶å®ç°åœ¨ä¸¤ç«¯æ·»åŠ å’Œåˆ é™¤èŠ‚ç‚¹çš„åŠŸèƒ½ã€‚

![image-20240612123429843](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121234910.png)

![image-20240612123508008](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121235074.png)

![image-20240612123544047](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121235107.png)

![image-20240612123621672](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121236734.png)

![image-20240612123655388](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121236452.png)

å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

::: code-group

```java [ä»£ç å®ç°]
public class LinkedListDeque<E> {
  /**
   * é˜Ÿåˆ—çš„é•¿åº¦
   */
  private int size = 0;
  /**
   * å¤´èŠ‚ç‚¹
   */
  private ListNode<E> front;
  /**
   * å°¾èŠ‚ç‚¹
   */
  private ListNode<E> rear;

  /**
   * è·å–é˜Ÿåˆ—çš„é•¿åº¦
   *
   * @return é˜Ÿåˆ—çš„é•¿åº¦
   */
  public int size() {
    return size;
  }

  /**
   * åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
   *
   * @return true é˜Ÿåˆ—ä¸ºç©ºï¼Œfalse é˜Ÿåˆ—ä¸ä¸ºç©º
   */
  public boolean isEmpty() {
    return size() == 0;
  }

  /**
   * é˜Ÿé¦–å…¥é˜Ÿæ“ä½œ
   *
   * @param e å…¥é˜Ÿå…ƒç´ 
   */
  public void pushFirst(final E e) {
    push(e, true);
  }

  /**
   * é˜Ÿå°¾å…¥é˜Ÿæ“ä½œ
   *
   * @param e å…¥é˜Ÿå…ƒç´ 
   */
  public void pushLast(final E e) {
    push(e, false);
  }

  /**
   * é˜Ÿé¦–å‡ºé˜Ÿæ“ä½œ
   *
   * @return é˜Ÿé¦–å…ƒç´ 
   */
  public E popFirst() {
    return pop(true);
  }

  /**
   * é˜Ÿå°¾å‡ºé˜Ÿæ“ä½œ
   *
   * @return é˜Ÿå°¾å…ƒç´ 
   */
  public E popLast() {
    return pop(false);
  }

  /**
   * è·å–é˜Ÿé¦–å…ƒç´ 
   *
   * @return é˜Ÿé¦–å…ƒç´ 
   */
  public E peekFirst() {
    if (isEmpty()) {
      throw new IndexOutOfBoundsException();
    }
    return front.value;
  }

  /**
   * è·å–é˜Ÿå°¾å…ƒç´ 
   *
   * @return é˜Ÿå°¾å…ƒç´ 
   */
  public E peekLast() {
    if (isEmpty()) {
      throw new IndexOutOfBoundsException();
    }
    return rear.value;
  }

  /**
   * å°†é˜Ÿåˆ—ä¸­çš„å…ƒç´ è½¬åŒ–ä¸ºæ•°ç»„
   *
   * @return é˜Ÿåˆ—ä¸­çš„å…ƒç´ ç»„æˆçš„æ•°ç»„
   */
  public Object[] toArray() {
    ListNode<E> curr = front;
    Object[] res = new Object[size()];
    for (int i = 0; i < size(); i++) {
      res[i] = curr.value;
      curr = curr.next;
    }
    return res;
  }

  /**
   * å‡ºé˜Ÿæ“ä½œ
   *
   * @param isFront å‡ºé˜Ÿä½ç½®ï¼Œtrue é˜Ÿé¦–ï¼Œfalse é˜Ÿå°¾
   * @return å‡ºé˜Ÿå…ƒç´ 
   */
  private E pop(final boolean isFront) {
    if (isEmpty()) {
      throw new IndexOutOfBoundsException();
    }
    E value;
    if (isFront) {
      // é˜Ÿé¦–å‡ºé˜Ÿæ“ä½œ
      // ä¿å­˜é˜Ÿé¦–å…ƒç´ çš„å€¼
      value = front.value;
      // è·å–é˜Ÿé¦–èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹
      ListNode<E> next = front.next;
      if (next != null) {
        // å°†åç»§èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æŒ‡å‘nullï¼Œè®©é˜Ÿé¦–èŠ‚ç‚¹ä¸é“¾è¡¨æ–­å¼€
        next.prev = null;
      }
      // æ›´æ–°å¤´èŠ‚ç‚¹ï¼Œè®©å…¶æŒ‡å‘åç»§èŠ‚ç‚¹
      front = next;
    } else {
      // é˜Ÿå°¾å‡ºé˜Ÿæ“ä½œ
      // ä¿å­˜é˜Ÿå°¾å…ƒç´ çš„å€¼
      value = rear.value;
      // è·å–é˜Ÿå°¾èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹
      ListNode<E> prev = rear.prev;
      if (prev != null) {
        // å°†å‰é©±èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹æŒ‡å‘nullï¼Œè®©å…¶ä¸é“¾è¡¨æ–­å¼€
        prev.next = null;
      }
      // æ›´æ–°å°¾èŠ‚ç‚¹ï¼Œè®©å…¶æŒ‡å‘å‰é©±èŠ‚ç‚¹
      rear = prev;
    }
    // é˜Ÿåˆ—é•¿åº¦å‡1
    size--;
    return value;
  }

  /**
   * å…¥é˜Ÿæ“ä½œ
   *
   * @param e       å…¥é˜Ÿå…ƒç´ 
   * @param isFront å…¥é˜Ÿä½ç½®ï¼Œtrue é˜Ÿé¦–ï¼Œfalse é˜Ÿå°¾
   */
  private void push(final E e, final boolean isFront) {
    // åˆ›å»ºæ–°èŠ‚ç‚¹
    ListNode<E> newNode = new ListNode<>(e);
    // å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹éƒ½æŒ‡å‘æ–°èŠ‚ç‚¹
    if (isEmpty()) {
      front = rear = newNode;
    } else if (isFront) {
      // é˜Ÿé¦–å…¥é˜Ÿæ“ä½œï¼Œå°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°é“¾è¡¨çš„å¤´éƒ¨
      // å¤´èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹
      front.prev = newNode;
      // æ–°èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹æŒ‡å‘å¤´èŠ‚ç‚¹
      newNode.next = front;
      // æ›´æ–°å¤´èŠ‚ç‚¹ï¼Œè®©å…¶æŒ‡å‘æ–°èŠ‚ç‚¹
      front = newNode;
    } else {
      // é˜Ÿå°¾å…¥é˜Ÿæ“ä½œï¼Œå°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°é“¾è¡¨çš„å°¾éƒ¨
      // å°¾èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹
      rear.next = newNode;
      // æ–°èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æŒ‡å‘å°¾èŠ‚ç‚¹
      newNode.prev = rear;
      // æ›´æ–°å°¾èŠ‚ç‚¹ï¼Œè®©å…¶æŒ‡å‘æ–°èŠ‚ç‚¹
      rear = newNode;
    }
    // é˜Ÿåˆ—é•¿åº¦åŠ 1
    size++;
  }

  private static class ListNode<E> {
    /**
     * èŠ‚ç‚¹å€¼
     */
    E value;
    /**
     * å‰é©±èŠ‚ç‚¹
     */
    ListNode<E> prev;
    /**
     * åç»§èŠ‚ç‚¹
     */
    ListNode<E> next;

    /**
     * æ„é€ å‡½æ•°
     *
     * @param value èŠ‚ç‚¹å€¼
     */
    public ListNode(final E value) {
      this.value = value;
    }
  }
}
```

```java [æµ‹è¯•]
class LinkedListDequeTest {
  @Test
  public void test() {
    LinkedListDeque<Integer> deque = new LinkedListDeque<>();
    deque.pushLast(2);
    deque.pushLast(5);
    deque.pushFirst(3);
    deque.pushLast(4);
    deque.pushFirst(1);
    Assertions.assertArrayEquals(new Integer[]{1, 3, 2, 5, 4}, deque.toArray());
    Assertions.assertEquals(1, deque.peekFirst());
    Assertions.assertEquals(4, deque.peekLast());
    Assertions.assertEquals(1, deque.popFirst()); // 3, 2, 5, 4
    Assertions.assertEquals(4, deque.popLast()); // 3, 2, 5
    Assertions.assertEquals(3, deque.size());
    Assertions.assertEquals(3, deque.popFirst()); // 2, 5
    Assertions.assertEquals(2, deque.popFirst()); // 5
    Assertions.assertEquals(5, deque.popLast());
    Assertions.assertTrue(deque.isEmpty());
  }
}
```

:::

### åŸºäºæ•°ç»„çš„å®ç°

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸åŸºäºæ•°ç»„å®ç°é˜Ÿåˆ—ç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥<strong style="color:#ae3520;">ä½¿ç”¨ç¯å½¢æ•°ç»„æ¥å®ç°åŒå‘é˜Ÿåˆ—</strong>ã€‚

![image-20240612150910015](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121509121.png)

![image-20240612150952952](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121509044.png)

![image-20240612151034353](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121510438.png)

![image-20240612151109691](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121511781.png)

![array_deque_step5_pop_first](https://cdn.jsdelivr.net/gh/xihuanxiaorang/img/202406121512146.png)

åœ¨é˜Ÿåˆ—çš„å®ç°åŸºç¡€ä¸Šï¼Œä»…éœ€å¢åŠ â€œé˜Ÿé¦–å…¥é˜Ÿâ€å’Œâ€œé˜Ÿå°¾å‡ºé˜Ÿâ€çš„æ–¹æ³•ï¼š

::: code-group

```java [ä»£ç å®ç°]
public class ArrayDeque<E> {
  /**
   * ç”¨äºå­˜å‚¨é˜Ÿåˆ—å…ƒç´ çš„æ•°ç»„
   */
  private final Object[] elementData;
  /**
   * é˜Ÿåˆ—çš„é•¿åº¦
   */
  private int size;
  /**
   * é˜Ÿå¤´æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿé¦–å…ƒç´ 
   */
  private int front;

  public ArrayDeque() {
    this(10);
  }

  public ArrayDeque(int capacity) {
    this.elementData = new Object[capacity];
    front = size = 0;
  }

  /**
   * è·å–é˜Ÿåˆ—çš„å®¹é‡
   *
   * @return é˜Ÿåˆ—çš„å®¹é‡
   */
  public int capacity() {
    return elementData.length;
  }

  /**
   * è·å–é˜Ÿåˆ—çš„é•¿åº¦
   *
   * @return é˜Ÿåˆ—çš„é•¿åº¦
   */
  public int size() {
    return size;
  }

  /**
   * åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
   *
   * @return trueï¼šé˜Ÿåˆ—ä¸ºç©ºï¼›falseï¼šé˜Ÿåˆ—ä¸ä¸ºç©º
   */
  public boolean isEmpty() {
    return size == 0;
  }

  /**
   * é˜Ÿé¦–å…¥é˜Ÿæ“ä½œ
   *
   * @param e å…¥é˜Ÿå…ƒç´ 
   */
  public void pushFirst(final E e) {
    if (size() == capacity()) {
      throw new IllegalStateException("é˜Ÿåˆ—å·²æ»¡");
    }
    // é˜Ÿé¦–æŒ‡é’ˆå‘å·¦ç§»åŠ¨ä¸€ä½
    // é€šè¿‡å–ä½™æ“ä½œå®ç° front è¶Šè¿‡æ•°ç»„å¤´éƒ¨åå›åˆ°å°¾éƒ¨
    front = index(front - 1);
    // å°†å…ƒç´ æ·»åŠ è‡³é˜Ÿé¦–
    elementData[front] = e;
    // é˜Ÿåˆ—é•¿åº¦åŠ 1
    size++;
  }

  /**
   * é˜Ÿå°¾å…¥é˜Ÿæ“ä½œ
   *
   * @param e å…¥é˜Ÿå…ƒç´ 
   */
  public void pushLast(final E e) {
    if (size() == capacity()) {
      throw new IllegalStateException("é˜Ÿåˆ—å·²æ»¡");
    }
    // è®¡ç®—é˜Ÿå°¾æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå°¾å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®
    // é€šè¿‡å–ä½™æ“ä½œå®ç° rear è¶Šè¿‡æ•°ç»„å°¾éƒ¨åå›åˆ°å¤´éƒ¨
    int rear = index(front + size);
    // å°†å…ƒç´ æ·»åŠ è‡³é˜Ÿå°¾
    elementData[rear] = e;
    // é˜Ÿåˆ—é•¿åº¦åŠ 1
    size++;
  }

  /**
   * é˜Ÿé¦–å‡ºé˜Ÿæ“ä½œ
   *
   * @return é˜Ÿé¦–å…ƒç´ 
   */
  public E popFirst() {
    // è·å–é˜Ÿé¦–å…ƒç´ 
    E e = peekFirst();
    // é˜Ÿé¦–æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€ä½
    front = index(front + 1);
    // é˜Ÿåˆ—é•¿åº¦å‡1
    size--;
    return e;
  }

  /**
   * é˜Ÿå°¾å‡ºé˜Ÿæ“ä½œ
   *
   * @return é˜Ÿå°¾å…ƒç´ 
   */
  public E popLast() {
    // è·å–é˜Ÿå°¾å…ƒç´ 
    E e = peekLast();
    // é˜Ÿåˆ—é•¿åº¦å‡1
    size--;
    return e;
  }

  /**
   * è·å–é˜Ÿé¦–å…ƒç´ 
   *
   * @return é˜Ÿé¦–å…ƒç´ 
   */
  public E peekFirst() {
    if (isEmpty()) {
      throw new IndexOutOfBoundsException();
    }
    return elementData(front);
  }

  /**
   * è·å–é˜Ÿå°¾å…ƒç´ 
   *
   * @return é˜Ÿå°¾å…ƒç´ 
   */
  public E peekLast() {
    if (isEmpty()) {
      throw new IndexOutOfBoundsException();
    }
    // è®¡ç®—å°¾å…ƒç´ ç´¢å¼•
    int last = index(front + size - 1);
    return elementData(last);
  }

  /**
   * å°†é˜Ÿåˆ—ä¸­çš„å…ƒç´ è½¬åŒ–ä¸ºæ•°ç»„
   *
   * @return é˜Ÿåˆ—ä¸­çš„å…ƒç´ ç»„æˆçš„æ•°ç»„
   */
  public Object[] toArray() {
    // ä»…è½¬æ¢æœ‰æ•ˆé•¿åº¦èŒƒå›´å†…çš„åˆ—è¡¨å…ƒç´ 
    Object[] res = new Object[size];
    // å°†æœ‰æ•ˆé•¿åº¦èŒƒå›´å†…çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­
    for (int i = 0, j = front; i < size; i++, j++) {
      res[i] = elementData(index(j));
    }
    return res;
  }

  @SuppressWarnings("unchecked")
  E elementData(int index) {
    return (E) elementData[index];
  }

  private int index(int index) {
    // é€šè¿‡å–ä½™æ“ä½œå®ç°æ•°ç»„é¦–å°¾ç›¸è¿
    // å½“ index è¶Šè¿‡æ•°ç»„å°¾éƒ¨åï¼Œå›åˆ°å¤´éƒ¨
    // å½“ index è¶Šè¿‡æ•°ç»„å¤´éƒ¨åï¼Œå›åˆ°å°¾éƒ¨
    return (index + capacity()) % capacity();
  }
}
```

```java [æµ‹è¯•]
class ArrayDequeTest {
  @Test
  public void test() {
    ArrayDeque<Integer> deque = new ArrayDeque<>();
    deque.pushLast(2);
    deque.pushLast(5);
    deque.pushFirst(3);
    deque.pushLast(4);
    deque.pushFirst(1);
    Assertions.assertArrayEquals(new Integer[]{1, 3, 2, 5, 4}, deque.toArray());
    Assertions.assertEquals(1, deque.peekFirst());
    Assertions.assertEquals(4, deque.peekLast());
    Assertions.assertEquals(1, deque.popFirst()); // 3, 2, 5, 4
    Assertions.assertEquals(4, deque.popLast()); // 3, 2, 5
    Assertions.assertEquals(3, deque.size());
    Assertions.assertEquals(3, deque.popFirst()); // 2, 5
    Assertions.assertEquals(2, deque.popFirst()); // 5
    Assertions.assertEquals(5, deque.popLast());
    Assertions.assertTrue(deque.isEmpty());
  }
}
```

:::

## åŒå‘é˜Ÿåˆ—åº”ç”¨

åŒå‘é˜Ÿåˆ—å…¼å…·æ ˆä¸é˜Ÿåˆ—çš„é€»è¾‘ï¼Œ**å› æ­¤å®ƒå¯ä»¥å®ç°è¿™ä¸¤è€…çš„æ‰€æœ‰åº”ç”¨åœºæ™¯ï¼ŒåŒæ—¶æä¾›æ›´é«˜çš„è‡ªç”±åº¦**ã€‚

æˆ‘ä»¬çŸ¥é“ï¼Œè½¯ä»¶çš„â€œæ’¤é”€â€åŠŸèƒ½é€šå¸¸ä½¿ç”¨æ ˆæ¥å®ç°ï¼šç³»ç»Ÿå°†æ¯æ¬¡æ›´æ”¹æ“ä½œ `push` åˆ°æ ˆä¸­ï¼Œç„¶åé€šè¿‡ `pop` å®ç°æ’¤é”€ã€‚ç„¶è€Œï¼Œè€ƒè™‘åˆ°ç³»ç»Ÿèµ„æºçš„é™åˆ¶ï¼Œè½¯ä»¶é€šå¸¸ä¼šé™åˆ¶æ’¤é”€çš„æ­¥æ•°ï¼ˆä¾‹å¦‚ä»…å…è®¸ä¿å­˜ 50 æ­¥ï¼‰ã€‚å½“æ ˆçš„é•¿åº¦è¶…è¿‡ 50 æ—¶ï¼Œè½¯ä»¶éœ€è¦åœ¨æ ˆåº•ï¼ˆé˜Ÿé¦–ï¼‰æ‰§è¡Œåˆ é™¤æ“ä½œã€‚**ä½†æ ˆæ— æ³•å®ç°è¯¥åŠŸèƒ½ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨åŒå‘é˜Ÿåˆ—æ¥æ›¿ä»£æ ˆ**ã€‚è¯·æ³¨æ„ï¼Œâ€œæ’¤é”€â€çš„æ ¸å¿ƒé€»è¾‘ä»ç„¶éµå¾ªæ ˆçš„å…ˆå…¥åå‡ºåŸåˆ™ï¼Œåªæ˜¯åŒå‘é˜Ÿåˆ—èƒ½å¤Ÿæ›´åŠ çµæ´»åœ°å®ç°ä¸€äº›é¢å¤–é€»è¾‘ã€‚